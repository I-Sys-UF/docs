# プログラミングの始め方

ここでは Arduino ボードを使ったプログラミング練習キット「Trainer」を使ってプログラミングについて教えることにする．手元に一台用意しておいて欲しい

## ボードの紹介

Trainer は，入力として 2 つの押しボタン式スイッチがあり，出力として 2 つの LED と 1 つの 7 セグメント LED が用意されている．それらをマイコンを積んだボード「Arduino Nano」を使って制御するものである

開発は以下のリポジトリで行っている．サンプルコードもここにおいてあるのでダウンロードし，`D:/Arduino/` に展開しておこう

<https://github.com/I-Sys-UF/Trainer>

これ以降の作業を進めるにあたって，自分がどこまで進めたかを記録するのも兼ねて Issue というものを立ててみよう．タブの左から 2 番目に Issues というのがある．「Trainer-A Getting Started」というテンプレートを用意してあるので，Submit new Issue から新しい Issue を発行しよう．その際，「名前」は自分の名前に置き換えてほしい  
作業が終わり次第，終わった項目にチェックを入れていくと，自分がどこまでやったのか，残りはどれだけ残っているのかが可視化できる

## ボードの作成

基本的には Issue 通り進めていけばいいが，一部コツがいるところがあるので，それについては適宜解説する

### 抵抗を実装

部品を実装する際は，基本的に背の低い部品から実装していく．今回の場合は抵抗である

抵抗は基本的に特に考えることはなく，ただ浮かないようにはんだ付けすればよい．向きもないので，気にしないのであれば適当でよい  
もちろん揃えると見た目はいいので，揃えてもいい

終わったら Issue にチェックを入れていこう．以下同じ

### IC ソケットを実装

次に背が低いのは IC ソケットである

逆になっても問題はないのだが，IC ソケットには一応向きがある．よく見ると一方の妻手にくぼみがあるだろう．それを基板上のシルク印刷と合わせて欲しい

はんだ付けの際，少々やり方に気をつけないと面倒なことになるのでここは注意．具体的には以下の通りにやると良い

1. 対角上の 2 箇所だけ仮ではんだ付けする
2. ソケットが浮いていないか確認しつつ，押さえながら基板に密着させ，はんだ付けする
3. 浮いていなければ，残りのピンもはんだ付けする

こうすることで，ソケットが浮くのを防ぐことができる

ちなみに，ソケットを挟む理由だが，IC がはんだ付けの際の熱で壊れるのを防ぐためというのが大きな理由である

### スイッチを実装

スイッチは特に考えることはない．基板にはめ込むと割とガッチリ保持されるので，普通にはんだ付けすればよい

### LED を実装

基板上の D1 と D2 をはんだ付けする  
LED には向きがあるので，注意しよう

片方だけはんだ付けして傾かないようにし，問題なければ残った方もはんだ付けするようにするとうまく行く

### ピンソケットを実装

42 ピンの分割ロングピンソケットを，必要な長さに合わせて割って使用する．5，5，15，15 に分割させよう．2 ピン分残るが，捨ててしまって良い

ピンソケットも IC ソケットと同様，両端 2 ピンだけ先にはんだ付けし，浮き．傾きがないことを確認して残りもはんだ付けするときれいにはんだ付けできる

### ピンヘッダを実装

Arduino Nano を用意し，開封すると，中から本体とピンヘッダ 3 個が出てくる．このうち，1 列のものを使用する  
2 x 3 のものは使わないので捨ててしまって良い

これも IC ソケット，ピンソケットと同様のやり方ではんだ付けをする．向きは，書かなくても分かる，よね？

### 部品たちを載せる

Arduino Nano，7 セグメント LED，IC 2 つをそれぞれ向きに気を付けてはめ込む．基本的に上から押し込むだけ  
Arduino Nano は USB コネクタが上になるように，7 セグメント LED は正立するように，IC はシルク印刷の通りにはめ込もう

## プログラミングの学習

ここからはダウンロードしたサンプルコードを使用して進めよう．現時点ではまだ Releases を作成していないので，リポジトリをまるごとダウンロードして使ってほしい（この辺はそのうち整備します）

### demo

まずはでもプログラムを走らせてみよう．これは，問題なく組み立てができてちゃんと動くかを確認する目的もある

